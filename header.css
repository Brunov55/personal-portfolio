/* =============================
	 Header & Navigation
	 ============================= */

header {
	position: sticky;
	top: 0;
	z-index: 100;
	backdrop-filter: blur(18px) saturate(160%);
	-webkit-backdrop-filter: blur(18px) saturate(160%);
	background:
		linear-gradient(rgba(15,17,21,.85), rgba(15,17,21,.75)) padding-box,
		linear-gradient(120deg, rgba(59,130,246,.8), rgba(99,102,241,.55), rgba(59,130,246,.8)) border-box;
	border-bottom: 1px solid transparent;
}

.header_nav { width: min(100% - 2rem, var(--size-content)); margin: 0 auto; display:grid; grid-template-columns: auto 1fr auto; align-items:center; column-gap:2rem; padding:.55rem 0 .7rem; }
.header_top_row { display:contents; }

/* Zones (hook classes added via markup update not yet applied to HTML) */
.header_brand { display:flex; align-items:center; }
.header_links_wrapper { display:flex; justify-content:center; }
.header_actions { display:flex; align-items:center; gap:.65rem; }

.site_brand { font-size:1.15rem; font-weight:600; letter-spacing:.5px; color:var(--color-text); text-decoration:none; display:inline-flex; gap:.4rem; align-items:baseline; }
.site_brand strong { font-weight:700; background: var(--gradient-accent); -webkit-background-clip:text; background-clip:text; color:transparent; }
.site_brand:focus-visible { outline:2px solid var(--color-accent); outline-offset:4px; border-radius:6px; }

.header_nav_lista { list-style:none; display:flex; gap:1.4rem; padding:0; margin:0; font-size:1rem; font-weight:500; letter-spacing:.55px; justify-content:center; }
.header_nav_lista a { color:var(--color-text-secondary); text-decoration:none; position:relative; padding:.65rem .65rem; display:inline-flex; border-radius:10px; font-weight:500; isolation:isolate; overflow:hidden; }
.header_nav_lista a::before { content:""; position:absolute; inset:0; background:linear-gradient(120deg, rgba(59,130,246,.12), rgba(99,102,241,.12)); opacity:0; transition:opacity var(--transition-fast); z-index:-1; }
.header_nav_lista a:hover::before, .header_nav_lista a:focus-visible::before { opacity:1; }
.header_nav_lista a::after { content:""; position:absolute; left:12px; right:12px; bottom:8px; height:2px; border-radius:2px; background:var(--gradient-accent); transform:scaleX(0); transform-origin:left; transition: transform var(--transition-base); }
.header_nav_lista a:hover::after, .header_nav_lista a:focus-visible::after, .header_nav_lista a.nav_link_active::after { transform:scaleX(1); }
.header_nav_lista a.nav_link_active { color: var(--color-text); }

/* Theme toggle (placeholder styling) */
.theme_toggle_btn { cursor:pointer; border:1px solid var(--color-border); background: var(--color-surface-alt); color:var(--color-text-secondary); font:inherit; padding:.55rem .9rem; border-radius: 999px; display:inline-flex; align-items:center; gap:.5rem; font-size:.7rem; letter-spacing:.8px; text-transform:uppercase; font-weight:600; transition: background var(--transition-fast), color var(--transition-fast), border-color var(--transition-fast); }
.theme_toggle_btn:hover { background: var(--color-surface); color:var(--color-text); border-color: var(--color-accent); }
.theme_toggle_btn:focus-visible { outline:2px solid var(--color-accent); outline-offset:3px; }

/* Mobile menu toggle */
.mobile_menu_toggle { --_size:40px; width:var(--_size); height:var(--_size); display:none; border:1px solid var(--color-border); background:var(--color-surface-alt); border-radius:12px; align-items:center; justify-content:center; flex-direction:column; gap:5px; cursor:pointer; transition: background var(--transition-fast), border-color var(--transition-fast); }
.mobile_menu_toggle:hover { background:var(--color-surface); border-color:var(--color-accent); }
.mobile_menu_toggle:focus-visible { outline:2px solid var(--color-accent); outline-offset:3px; }
.hamburger_line { width:22px; height:2px; background:var(--color-text-secondary); border-radius:2px; transition: transform var(--transition-base), opacity var(--transition-base), background var(--transition-fast); }
.mobile_menu_toggle[aria-expanded="true"] .hamburger_line:nth-child(1) { transform: translateY(7px) rotate(45deg); }
.mobile_menu_toggle[aria-expanded="true"] .hamburger_line:nth-child(2) { opacity:0; }
.mobile_menu_toggle[aria-expanded="true"] .hamburger_line:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }

/* Mobile navigation behavior */
@media (max-width: 820px){
	.mobile_menu_toggle { display:flex; }
	.header_nav { grid-template-columns: auto auto auto; }
	.header_nav_lista { position:absolute; top:100%; left:50%; transform:translate(-50%,-6px); width:clamp(260px,90vw,500px); background: linear-gradient(rgba(15,17,21,.97), rgba(15,17,21,.93)); border:1px solid var(--color-border); border-top:none; flex-direction:column; padding:.65rem 1rem 1.1rem; gap:.2rem; max-height:0; overflow:hidden; opacity:0; transition: max-height .55s cubic-bezier(.65,.2,.2,1), opacity .4s, transform .4s; border-bottom-left-radius:18px; border-bottom-right-radius:18px; }
	.header_nav_lista.is_open { max-height:360px; opacity:1; transform:translate(-50%,0); }
	.header_nav_lista a { padding:.85rem .65rem; justify-content:flex-start; }
}

@media (prefers-reduced-motion: reduce){
	.mobile_menu_toggle, .hamburger_line, .header_nav_lista a::after, .header_nav_lista { transition:none !important; }
}
